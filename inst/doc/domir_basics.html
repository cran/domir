<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Joseph Luchman" />

<meta name="date" content="2021-09-27" />

<title>Conceptual Introduction to Dominance Analysis</title>

<script src="data:application/javascript;base64,Ly8gUGFuZG9jIDIuOSBhZGRzIGF0dHJpYnV0ZXMgb24gYm90aCBoZWFkZXIgYW5kIGRpdi4gV2UgcmVtb3ZlIHRoZSBmb3JtZXIgKHRvCi8vIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgYmVoYXZpb3Igb2YgUGFuZG9jIDwgMi44KS4KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHsKICB2YXIgaHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJkaXYuc2VjdGlvbltjbGFzcyo9J2xldmVsJ10gPiA6Zmlyc3QtY2hpbGQiKTsKICB2YXIgaSwgaCwgYTsKICBmb3IgKGkgPSAwOyBpIDwgaHMubGVuZ3RoOyBpKyspIHsKICAgIGggPSBoc1tpXTsKICAgIGlmICghL15oWzEtNl0kL2kudGVzdChoLnRhZ05hbWUpKSBjb250aW51ZTsgIC8vIGl0IHNob3VsZCBiZSBhIGhlYWRlciBoMS1oNgogICAgYSA9IGguYXR0cmlidXRlczsKICAgIHdoaWxlIChhLmxlbmd0aCA+IDApIGgucmVtb3ZlQXR0cmlidXRlKGFbMF0ubmFtZSk7CiAgfQp9KTsK"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="data:text/css,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">Conceptual Introduction to Dominance Analysis</h1>
<h3 class="subtitle">Examples and Implementation with <code>{domir}</code>’s <code>domin</code></h3>
<h4 class="author">Joseph Luchman</h4>
<h4 class="date">2021-09-27</h4>



<div id="conceptual-introduction" class="section level1">
<h1>Conceptual Introduction</h1>
<div id="dominance-analysis" class="section level2">
<h2>Dominance Analysis</h2>
<p>The focus of the <code>{domir}</code> package is on the dominance analysis (DA) methodology for determining the relative importance of independent variables (IVs)/predictors/features in a predictive model. DA determines the relative importance of independent variables in an predictive model based on each IV’s contribution to an overall model fit statistic. More specifically, DA produces several results that decompose and compare the contribution each IV makes to the fit statistic to one another. Conceptually, DA is an extension of Shapley value decomposition from Cooperative Game Theory (see Grömping, 2007 for a discussion) which seeks to find solutions of how to subdivide “payoffs” (i.e., the fit statistic) to “players” (i.e., the IVs) based on their relative contribution to the payoff; the payoff is usually assumed to be a single value (i.e., scalar valued).</p>
<p>The implementation DA uses to estimate the Shapley value decomposition works by using a pre-selected predictive model and applying a very extensive experimental design to it. Effectively, DA asks treats the predictive model as data and the IVs as factors in an experiment with a within-subjects full-factorial design (i.e., all possible combinations of the IVs are applied to the data). Another way of describing the process is as a brute force method where all combinations of the IVs included or excluded is estimated from the data and the fit statistics associated with each sub-model is collected.</p>
<p>Assuming there are <span class="math inline">\(p\)</span> IVs in the pre-selected model, obtaining all possible combinations of the IVs results in <span class="math inline">\(2^p\)</span> models and fit statistics to be estimated. Again, each combination of <span class="math inline">\(p\)</span> variables alternating between included versus excluded (see Budescu, 1993).</p>
</div>
<div id="key-caveat" class="section level2">
<h2>Key Caveat</h2>
<p>As is mentioned above, an implication of the DA method is that the predictive model used in it is “pre-selected”. Hence, the model has been passed through model selection procedures and the user is confident that the model used in the dominance analysis is a good reflection of the “payoff” structure. DA, at least the implementation of DA that acts like a full-factorial experiment, is not effective for model selection of IVs/finding IVs with trivial effects and removing them.</p>
<p>“Relative importance” as a concept is used in many different ways in statistics and data science and many of them refer to methods that are focused on, or are probably best used for, model selection/identifying trivial IVs for removal. DA is a method that is more focused on importance in a “model evaluation” sense. I see this as being an application where the user describes/interprets IVs’ effects in the context of a finalized, predictive approach.</p>
</div>
<div id="da-implemtation-with-domin" class="section level2">
<h2>DA Implemtation with <code>domin</code></h2>
<p>The <code>domin</code> function of the <code>{domir}</code> package implements the DA, full-factorial methodology with a flexible R function application programming interface/API. The API is based on the R formula which is used in many predictive R modeling functions in base and recommended packages such as <code>lm</code>, <code>glm</code>, <code>arima</code>, <code>polr</code>, <code>nnet</code>, <code>lme</code>, and <code>gam</code>. Functions that do not use formulas, or use variants of the standard R formula (i.e., those in the <code>Formula</code> package), can be accommodated using wrapper functions.</p>
<p>I see the DA methodology is a general approach to model evaluation using relative importance and it is this perspective that has guided the development of this package. In my view, if you have a pre-selected predictive model and a fit statistic that can be applied to it, the <code>domin</code> can help you evaluate/interpret the contribution of the IVs in that model.</p>
</div>
</div>
<div id="extensive-introductory-example" class="section level1">
<h1>Extensive Introductory Example</h1>
<p>This section introduces some of the concepts in DA using a simple predictive model and discusses how each is displayed in the <code>domin</code> implementation when <code>print</code>-ed.</p>
<p>The focus of this section is on the concepts underlying DA and less on the implementation of DA, and how to work with, the <code>domin</code> function.</p>
<div id="linear-regression-based-da" class="section level2">
<h2>Linear Regression-based DA</h2>
<p>The example below uses the <em>mtcars</em> data in the <code>{datasets}</code> package. Assume I have pre-selected, through whatever means, the following linear model:</p>
<p><code>lm(mpg ~ am + cyl + carb, data = mtcars)</code></p>
<p>Applying a DA to this model using <code>domin</code>, assuming the fit statistic of interest is the explained variance <span class="math inline">\(R^2\)</span>, would look like:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(domir)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(datasets)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">domin</span>(mpg <span class="sc">~</span> am <span class="sc">+</span> cyl <span class="sc">+</span> carb, </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>      lm, </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(summary, <span class="st">&quot;r.squared&quot;</span>), </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> mtcars)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Overall Fit Statistic:      0.8113023 </span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; General Dominance Statistics:</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      General Dominance Standardized Ranks</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; am           0.2156848    0.2658501     2</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; cyl          0.4173094    0.5143698     1</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; carb         0.1783081    0.2197801     3</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Conditional Dominance Statistics:</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         IVs: 1    IVs: 2     IVs: 3</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; am   0.3597989 0.2164938 0.07076149</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; cyl  0.7261800 0.4181185 0.10762967</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; carb 0.3035184 0.1791172 0.05228872</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Complete Dominance Designations:</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              Dmnated?am Dmnated?cyl Dmnated?carb</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Dmnates?am           NA       FALSE         TRUE</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Dmnates?cyl        TRUE          NA         TRUE</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Dmnates?carb      FALSE       FALSE           NA</span></span></code></pre></div>
<p><code>domin</code> <code>print</code>s results in four sections including fit statistics overall, as well as general and conditional dominance statistics, and complete dominance designations.</p>
<div id="fit-statistics" class="section level3">
<h3>Fit Statistics</h3>
<pre><code>#&gt; Overall Fit Statistic:      0.8113023 </code></pre>
<p>This results section reports on the value of the fit statistic of the pre-selected model. Other fit statistic value adjustments are reported in this section as well.</p>
<p>The <span class="math inline">\(R^2\)</span> for this model is ~<span class="math inline">\(.8113\)</span> meaning the model explains around 80% of the variance in <em>mpg</em>; this is the limiting value for how much each IV will be able to explain. The three IVs in this model will be ascribed separate components of this ~<span class="math inline">\(.8113\)</span> value.</p>
</div>
<div id="general-dominance-statistics" class="section level3">
<h3>General Dominance Statistics</h3>
<pre><code>#&gt; General Dominance Statistics:
#&gt;      General Dominance Standardized Ranks
#&gt; am           0.2156848    0.2658501     2
#&gt; cyl          0.4173094    0.5143698     1
#&gt; carb         0.1783081    0.2197801     3</code></pre>
<p>This section reports on how the fit statistic value from the last section is divided up among the IVs. The statistics produced when dividing up the overall fit statistic associated with the pre-selected model are known as <em>general dominance statistics</em>. Because they sum to the overall fit statistic, general dominance statistics are the results from the DA that are considered easiest to interpret.</p>
<p>General dominance statistics are computed as a weighted average of the marginal/incremental contribution to prediction (as measured by the focal fit metric, in this case the <span class="math inline">\(R^2\)</span>) the IV makes across all sub-models in which it is included. For example, <em>am</em> has a value of ~<span class="math inline">\(0.2157\)</span> which means, on average, <em>am</em> results in an increment to the <span class="math inline">\(R^2\)</span> of about twenty-two percentage points when it is included in the model versus when it is not.</p>
<p>The <em>Standardized</em> column of statistics expresses the general dominance statistic value as a percentage of the overall fit statistic value and thus sum to 100%. <em>am</em>’s contributions to prediction comprise ~27% of the predictive usefulness of the pre-selected model (i.e., <span class="math inline">\(\frac{.2157}{.8113} = .2659\)</span>).</p>
<p>Finally, the general dominance statistics can be compared to one another to determine which variables generally dominate others. Here, <em>cyl</em>’s larger general dominance statistic than <em>am</em> indicates that it generally dominates, and is thus more important than, <em>am</em>. These <em>general dominance designations</em> are reflected in the <em>Ranks</em> column.</p>
<p>The general dominance statistics, whereas simple to interpret, are the least stringent of the dominance statistics/designations as they average across the most sub-models (more specifics provided below). Though least stringent, the general dominance statistics tent to always allow for a comparison between two IVs. The only time a general dominance designation cannot be made between two IVs is when they are exactly equal to one another in terms of predicting the dependent variable (DV)/outcome/response.</p>
<p>General dominance statistics for an IV are also the arithmetic average of that IV’s conditional dominance statistics - these statistics are discussed next.</p>
</div>
<div id="conditional-dominance-statistics" class="section level3">
<h3>Conditional Dominance Statistics</h3>
<pre><code>#&gt; Conditional Dominance Statistics:
#&gt;         IVs: 1    IVs: 2     IVs: 3
#&gt; am   0.3597989 0.2164938 0.07076149
#&gt; cyl  0.7261800 0.4181185 0.10762967
#&gt; carb 0.3035184 0.1791172 0.05228872</code></pre>
<p>This section reports on how the predictive usefulness for any given IV changes as more IVs are added to the model. These statistics describing change as more IVs are added to the model are known as <em>conditional dominance statistics</em>. Conditional dominance statistics are more challenging to interpret as they are best evaluated across their trajectory within an IV but across different numbers of IVs in the model. They also do not cleanly decompose the <span class="math inline">\(R^2\)</span> value like the general dominance statistics but rather shows the variation in <span class="math inline">\(R^2\)</span> values as more IVs are added to the model.</p>
<p>Conditional dominance statistics are computed as the average incremental contribution to prediction an IV makes within a single order of models–where order refers to a distinct number of IVs in the prediction model. As such, each IV will have <span class="math inline">\(p\)</span> different conditional dominance statistics.</p>
<p>In the example above, order one is <code>IVs: 1</code> and refers to the incremental contribution an IV makes to predicting the DV when by itself. Order two is <code>IVs: 2</code> and refers to the average incremental contribution an IV makes in predicting the DV when another IV is included in the model. Finally, order three is <code>IVs: 3</code> and refers to the incremental contribution an IV makes beyond the other two IVs.</p>
<p>Conditional dominance statistics provide more information about each IV than general dominance statistics as they reveal the effect that IV redundancy has on prediction for each IV. In the above conditional dominance statistic matrix, <em>am</em> is slightly less affected by variable redundancy overall as its average incremental contribution to fit shrinks relatively less than the other two IVs across all three orders.</p>
<p>As with general dominance statistics, conditional dominance statistics can be compared to determine which conditionally dominate others. Conditional dominance is determined for an IV over another when its within-order conditional dominance statistic comparisons are larger than another IV’s statistics for all <code>p</code> orders. If, at any order, the within-order comparison between conditional dominance statistics for two IVs are equal or there is a change rank order between IVs, no conditional dominance designation can be made between those IVs. As applied to the results above, <em>am</em> is conditionally dominated by <em>cyl</em> as its conditional dominance statistics are smaller than <em>cyl</em>’s at order 1, 2, and 3.</p>
<p>The increase in complexity with conditional dominance from general also results in a more stringent set of comparisons. It is more difficult for one IV to conditionally dominate than it is for one IV to generally dominate another IV as there are more ways in which conditional dominance can fail to be achieved. Additionally, conditional dominance implies general dominance–but the reverse is not true. An IV can generally, but not conditionally, dominate another IV.</p>
<p>The next section discusses the most stringent of the dominance designations.</p>
</div>
<div id="complete-dominance-designations" class="section level3">
<h3>Complete Dominance Designations</h3>
<pre><code>#&gt; Complete Dominance Designations:
#&gt;              Dmnated?am Dmnated?cyl Dmnated?carb
#&gt; Dmnates?am           NA       FALSE         TRUE
#&gt; Dmnates?cyl        TRUE          NA         TRUE
#&gt; Dmnates?carb      FALSE       FALSE           NA</code></pre>
<p>This section reports on how the predictive usefulness for an IV compares with another IV across all models that are comparable for the two IVs. The comparisons described in this section do not form statistics but only dominance designations; these are known as <em>complete dominance designations</em>. Conditional dominance designations are not difficult to interpret but are the most complex set of comparisons and only exist as a set of comparisons across IV pairs.</p>
<p>Complete dominance designations are made by comparing all possible incremental contributions to predicting the DV between two IVs for models that are comparable–which include all sub-models that do not include the other IV. For example, the comparison between <em>am</em> and <em>cyl</em> would include comparing the model with <em>am</em> alone to the model with <em>cyl</em> alone as well as the model with <em>am</em> and <em>carb</em> beyond the model with <em>carb</em> to the model with <em>cyl</em> and <em>carb</em> beyond the model with <em>carb</em>.</p>
<p>Complete dominance is the most stringent dominance criterion to satisfy as it requires that an IV <em>always</em> have a larger increment to to prediction across all, <span class="math inline">\(2^{p-2}\)</span> comparable individual models between two IVs.</p>
<p>As is noted above, the complete dominance designation has no statistic. The matrix <code>domin</code> returns is a set of logicals that reads from the left to right. A value of <code>TRUE</code> means that the IV in the row completely dominates the IV in the column. Conversely, a value of <code>FALSE</code> means the opposite, that the IV in the row is completely dominated by the IV in the column. A <code>NA</code> value means no complete dominance designation could be made as the comparison IVs’ incremental contributions differ in relative magnitude from model to model.</p>
<p>In the example above, the complete dominance designations show a clear hierarchy among the IVs with <code>cyl</code> completely dominating <code>am</code> which completely dominates <code>carb</code>. Complete dominance implies both general and conditional dominance, but, again, the reverse is not true. An IV can conditionally or generally, but not completely, dominate another IV.</p>
</div>
</div>
<div id="how-dominance-statistics-work" class="section level2">
<h2>How Dominance Statistics Work</h2>
<p>In this section, I expand more on what goes on during a DA and how statistics are computed using an example.</p>
<p>In the example below, I create a custom function that exports model results to an external R object (i.e., the <code>results</code> data frame).</p>
<p>The programming that is involved in the function below is a little complex (how it works and how to develop something like it will be the subject of another vignette!) but the idea is that it captures the formula <code>domin</code> feeds into the <code>lm</code> model and collects the <span class="math inline">\(R^2\)</span> value the model produces.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>lm_capture <span class="ot">&lt;-</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">function</span>(x, ...) {</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    count <span class="ot">&lt;&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    y <span class="ot">&lt;-</span> <span class="fu">lm</span>(x, ...)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    results[count, <span class="st">&quot;fmla&quot;</span>] <span class="ot">&lt;&lt;-</span> <span class="fu">deparse</span>(x)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    results[count, <span class="st">&quot;r2&quot;</span>] <span class="ot">&lt;&lt;-</span> <span class="fu">summary</span>(y)[[<span class="st">&quot;r.squared&quot;</span>]]</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(y)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>count <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">fmla =</span> <span class="fu">rep</span>(<span class="st">&quot;&quot;</span>, <span class="at">times =</span> <span class="dv">2</span><span class="sc">^</span><span class="dv">3-1</span>), </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>                      <span class="at">r2 =</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="at">times =</span> <span class="dv">2</span><span class="sc">^</span><span class="dv">3-1</span>) )</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>lm_da <span class="ot">&lt;-</span> <span class="fu">domin</span>(mpg <span class="sc">~</span> am <span class="sc">+</span> cyl <span class="sc">+</span> carb, lm_capture, <span class="fu">list</span>(summary, <span class="st">&quot;r.squared&quot;</span>), <span class="at">data =</span> mtcars)</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>results</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                    fmla        r2</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1              mpg ~ am 0.3597989</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2             mpg ~ cyl 0.7261800</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3            mpg ~ carb 0.3035184</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4        mpg ~ am + cyl 0.7590135</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5       mpg ~ am + carb 0.7036726</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6      mpg ~ cyl + carb 0.7405408</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7 mpg ~ am + cyl + carb 0.8113023</span></span></code></pre></div>
<p>As the printed result from the <em>results</em> data frame shows, <code>domin</code> runs 7 linear regressions with all the different combinations of the IVs and collects the <span class="math inline">\(R^2\)</span> value associated with each model.</p>
<div id="designating-complete-dominance" class="section level3">
<h3>Designating Complete Dominance</h3>
<p>Given the results in the <em>results</em> data frame, I will explain first how to determine complete dominance of two IVs–in this case, between <em>am</em> and <em>carb</em>. Complete dominance (<span class="math inline">\(D\)</span>) is computed as:</p>
<p><span class="math inline">\(X_vDX_z\; if\;2^{p-2}\, =\, \Sigma^{2^{p-2}}_{j=1}{ \{\begin{matrix} if\, R^2_{X_vS2_j}\, - R^2_{S2_j} &gt; R^2_{X_zS2_j}\, - R^2_{S2_j}\,then\, 1\, \\ if\, R^2_{X_vS2_j}\, - R^2_{S2_j} \le R^2_{X_zS2_j}- R^2_{S2_j}\,then\, \,0\end{matrix} }\)</span></p>
<p>Where <span class="math inline">\(X_v\)</span> and <span class="math inline">\(X_z\)</span> are two IVs, <span class="math inline">\(S2_j\)</span> is a set of the other IVs not including <span class="math inline">\(X_v\)</span> and <span class="math inline">\(X_z\)</span> which can include the null set with no other IVs, and <span class="math inline">\(R^2\)</span> is a model fit statistic (does not have to be an <span class="math inline">\(R^2\)</span> metric).</p>
<p>When comparing <em>am</em> and <em>carb</em>, there are 2 comparisons for each IV pair of the 7 model results to be made. Those comparisons are that between <em>mpg ~ am</em> and <em>mpg ~ carb</em> as well as the difference between <em>mpg ~ am + cyl</em> and <em>mpg ~ cyl + carb</em> from <em>mpg ~ cyl</em>. These comparisons are all the possible submodels in which models containing <em>am</em> and <em>carb</em> can be directly compared.</p>
<p>The comparisons suggest the complete dominance of <em>am</em> as <em>mpg ~ am</em>’s <em>0.3597989</em> is greater than <em>mpg ~ carb</em>’s <em>0.3035184</em> and <em>mpg ~ am + cyl</em>’s <em>0.0328335</em> increment beyond <em>mpg ~ cyl</em> is greater than <em>mpg ~ cyl + carb</em>’s <em>0.0143608</em> increment beyond <em>mpg ~ cyl</em>.</p>
<p>This result is reported in row 3-column 1 and row 1-column 3 of the <em>Complete_Dominance</em> matrix in the object <em>domin</em> returns.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>lm_da<span class="sc">$</span>Complete_Dominance</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              Dmnated_am Dmnated_cyl Dmnated_carb</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Dmnates_am           NA       FALSE         TRUE</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Dmnates_cyl        TRUE          NA         TRUE</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Dmnates_carb      FALSE       FALSE           NA</span></span></code></pre></div>
<p>The process used to compare models containing <em>am</em> and <em>carb</em> are repeated for the comparison between <em>am</em> and <em>cyl</em> as well as <em>carb</em> and <em>cyl</em>.</p>
</div>
<div id="computing-conditional-dominance" class="section level3">
<h3>Computing Conditional Dominance</h3>
<p>Computing conditional dominance statistics is the next process to be described in this vignette. Conditional dominance statistics are computed as:</p>
<p><span class="math inline">\(C^i_{X_v} = \Sigma^{(\begin{matrix}p-1\\i-1\end{matrix})}_{i=1}{\frac{R^2_{X_vS_i}\, - R^2_{S_i}}{(\begin{matrix}p-1\\i-1\end{matrix})}}\)</span></p>
<p>Where <span class="math inline">\(S_i\)</span> is a subset of IVs not including <span class="math inline">\(X_v\)</span> and <span class="math inline">\((\begin{matrix}p-1\\i-1\end{matrix})\)</span> is the number of distinct combinations produced choosing the number of elements in the bottom value (<span class="math inline">\(i-1\)</span>) given the number of elements in the top value (<span class="math inline">\(p-1\)</span>)–which is the value that would be produced by <code>choose(p-1, i-1)</code>.</p>
<p>The user can think of conditional dominance statistics as a window or grouped statistic in which a moving average of statistics from the <em>results</em> data frame are combined. Specifically, at the specific order in question (i.e., number of IVs in the model), the conditional dominance statistic for that order will be the sum of the models at the order in question with the IV included less the sum of the models at the previous order with the IV omitted. This sum is then divided by the number of models at the order in question.</p>
<p>Put another way, it is the arithmetic average of the increment to the fit statistic for the models including the IV at the order in question.</p>
<p>As applied to the example above involving <em>am</em>, the three conditional dominance statistics for <em>am</em> are computed as just the value of <em>am</em> by itself in the model (i.e., 0.3597989) for order 1, the average increment of <em>am</em> beyond the other two IVs (i.e., 0.7590135 - 0.72618 and 0.7036726 - 0.3035184) for order 2, and the increment <em>am</em> provides to the full model (i.e., 0.8113023 - 0.7405408).</p>
<p>This result is reported in row 1 of the <em>Conditional_Dominance</em> matrix in the object <em>domin</em> returns.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>lm_da<span class="sc">$</span>Conditional_Dominance</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          IVs_1     IVs_2      IVs_3</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; am   0.3597989 0.2164938 0.07076149</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; cyl  0.7261800 0.4181185 0.10762967</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; carb 0.3035184 0.1791172 0.05228872</span></span></code></pre></div>
<p>Because <em>am</em> completely dominates <em>carb</em> and is completely dominated by <em>cyl</em>, it also conditionally dominates <em>carb</em> and is conditionally dominated by <em>cyl</em>.</p>
</div>
<div id="computing-general-dominance" class="section level3">
<h3>Computing General Dominance</h3>
<p>General dominance is computed as:</p>
<p><span class="math inline">\(C_{X_v} = \Sigma^p_{i=1}{\frac{C^i_{X_v}}{p}}\)</span></p>
<p>Thus, the general dominance statistics are the arithmetic average of all the conditional dominance statistics for an IV.</p>
<p>Another way of thinking about the general dominance statistic is as a weighted average of all the fit statistics in the model. This is clearer when substituting the equation for the conditional dominance statistics into the equation for general dominance as each model is weighted both by the number of submodels at the order in which it was estimated (the average taken for conditional dominance statistic computation) as well as the number of IVs in the model total (the average taken for general dominance statistic computation).</p>
<p>The general dominance statistic for <em>am</em> is then computed as the average of 0.3597989, 0.2164938, and 0.0707615.</p>
<p>This result is reported in element 1 of the <em>General_Dominance</em> vector in the object <em>domin</em> returns.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>lm_da<span class="sc">$</span>General_Dominance</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        am       cyl      carb </span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 0.2156848 0.4173094 0.1783081</span></span></code></pre></div>
<p>Because <em>am</em> conditionally and completely dominates <em>carb</em> as well as is conditionally and completely dominated by <em>cyl</em>, it also generally dominates <em>carb</em> and is generally dominated by <em>cyl</em>.</p>
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
